<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>useFetcher() · Rest Hooks</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;!--DOCUSAURUS_CODE_TABS--&gt;"/><meta name="docsearch:version" content="4.2"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="useFetcher() · Rest Hooks"/><meta property="og:type" content="website"/><meta property="og:url" content="https://resthooks.io/"/><meta property="og:description" content="&lt;!--DOCUSAURUS_CODE_TABS--&gt;"/><meta property="og:image" content="https://resthooks.io/img/rest_hooks_logo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://resthooks.io/img/rest_hooks_logo.png"/><link rel="shortcut icon" href="/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://resthooks.io/blog/atom.xml" title="Rest Hooks Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://resthooks.io/blog/feed.xml" title="Rest Hooks Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-138752992-1', 'auto');
              ga('send', 'pageview');
            </script><link rel="preload" href="/font/Graphik-Regular-Web.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/font/Graphik-RegularItalic-Web.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/font/Graphik-Semibold-Web.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preload" href="/font/Graphik-SemiboldItalic-Web.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><script type="text/javascript" src="/scripts/sidebarScroll.js"></script><script type="text/javascript" src="/scripts/codeblock.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/rest_hooks_logo.svg" alt="Rest Hooks"/><h2 class="headerTitleWithLogo">Rest Hooks</h2></a><a href="/versions"><h3>4.2</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/4.2/getting-started/installation" target="_self">Getting Started</a></li><li class="siteNavGroupActive"><a href="/docs/4.2/api/README" target="_self">API</a></li><li class="siteNavGroupActive"><a href="/docs/4.2/guides/resource-types" target="_self">Resource Definitions</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class=""><a href="https://www.github.com/coinbase/rest-hooks" target="_self">Github</a></li><li class=""><a href="https://github.com/Rest-Hooks/todo-example" target="_blank">🎮 Demo</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Hooks</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/4.2/getting-started/installation">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/getting-started/usage">Usage</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/loading-state">Handling loading state</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/network-errors">Dealing with network errors</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/fetch-multiple">Fetching multiple resources at once</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Resource Definitions<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/resource-types">Resource types</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Network Interface</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/url">URL Patterns</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/endpoints">Custom endpoints</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/pagination">Pagination</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/auth">Authentication</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/network-transform">Transforming data on fetch</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/mocking-unfinished">Mocking unfinished endpoints</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Entity Interface</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/computed-properties">Computed Properties</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/multi-pk">Multi-column primary key</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Performance Optimizations</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/nested-response">Nesting related resources (server-side join)</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/rpc">Capturing Mutation Side-Effects</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Advanced<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Resource Definitions</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/custom-networking">Custom networking library</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/resource-lifetime">Custom cache lifetime</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Components</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/infinite-scrolling-pagination">Infinite Scrolling</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Testing</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/storybook">Mocking data for Storybook</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/unit-testing-hooks">Unit testing hooks</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/unit-testing-components">Unit testing components</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Performance</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/fetch-then-render">Fetch then Render</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/eager-updates">Eager Updates</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Integrations</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/redux">Redux integration</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Legacy</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/class-components">Usage with class components</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/guides/no-suspense">Usage without Suspense</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/4.2/api/README">API Reference</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Interface Definitions</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/api/resource">Resource</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/Entity">Entity</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/SimpleRecord">SimpleRecord</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/FetchShape">FetchShape</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Hooks</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/api/useresource">useResource()</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/4.2/api/useFetcher">useFetcher()</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/useCache">useCache()</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/useSubscription">useSubscription()</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/useRetrieve">useRetrieve()</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/useInvalidator">useInvalidator()</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/useResetter">useResetter()</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Components</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/api/CacheProvider">&lt;CacheProvider /&gt;</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/ExternalCacheProvider">&lt;ExternalCacheProvider /&gt;</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/NetworkErrorBoundary">&lt;NetworkErrorBoundary /&gt;</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Managers</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/api/Manager">Manager</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/NetworkManager">NetworkManager</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/SubscriptionManager">SubscriptionManager</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/PollingSubscription">PollingSubscription</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Testing</h4><ul><li class="navListItem"><a class="navItem" href="/docs/4.2/api/MockProvider">&lt;MockProvider /&gt;</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/makeRenderRestHook">makeRenderRestHook()</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/makeCacheProvider">makeCacheProvider()</a></li><li class="navListItem"><a class="navItem" href="/docs/4.2/api/makeExternalCacheProvider">makeExternalCacheProvider()</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/coinbase/rest-hooks/edit/master/docs/api/useFetcher.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">useFetcher()</h1></header><article><div><span><div class="tabs"><div class="nav-tabs"><div id="tab-group-571-tab-572" class="nav-link active" data-group="group_571" data-tab="tab-group-571-content-572">Type</div><div id="tab-group-571-tab-573" class="nav-link" data-group="group_571" data-tab="tab-group-571-content-573">With Generics</div></div><div class="tab-content"><div id="tab-group-571-content-572" class="tab-pane active" data-group="group_571" tabindex="-1"><div><span><pre><code class="hljs css language-typescript"><span class="token keyword">function</span> <span class="token function">useFetcher</span><span class="token punctuation">(</span><br />  fetchShape<span class="token operator">:</span> FetchShape<span class="token punctuation">,</span><br />  throttle<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br /><span class="token punctuation">)</span><span class="token operator">:</span> FetchFunction<span class="token punctuation">;</span><br /><br /><span class="token keyword">type</span> <span class="token class-name">FetchFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><br />  params<span class="token operator">:</span> object<span class="token punctuation">,</span><br />  body<span class="token operator">:</span> object <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">,</span><br />  updateParams<span class="token operator">?</span><span class="token operator">:</span> OptimisticUpdateParams<span class="token punctuation">[</span><span class="token punctuation">]</span><br /><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">;</span><br /><br /><span class="token keyword">type</span> <span class="token class-name">OptimisticUpdateParams</span> <span class="token operator">=</span> <span class="token punctuation">[</span><br />  destShape<span class="token operator">:</span> FetchShape<span class="token punctuation">,</span><br />  destParams<span class="token operator">:</span> object<span class="token punctuation">,</span><br />  <span class="token function-variable function">updateFunction</span><span class="token operator">:</span> <span class="token punctuation">(</span>sourceResults<span class="token operator">:</span> object<span class="token punctuation">,</span> destResults<span class="token operator">:</span> object<span class="token punctuation">)</span> <span class="token operator">=></span> object<span class="token punctuation">,</span><br /><span class="token punctuation">]</span><span class="token punctuation">;</span><br /></code></pre>
</span></div></div><div id="tab-group-571-content-573" class="tab-pane" data-group="group_571" tabindex="-1"><div><span><pre><code class="hljs css language-typescript"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">useFetcher</span><span class="token generic class-name"><span class="token operator">&lt;</span><br />  Params <span class="token keyword">extends</span> Readonly<span class="token operator">&lt;</span>object<span class="token operator">></span><span class="token punctuation">,</span><br />  Body <span class="token keyword">extends</span> Readonly<span class="token operator">&lt;</span>object <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">></span> <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">,</span><br />  <span class="token constant">S</span> <span class="token keyword">extends</span> Schema<br /><span class="token operator">></span></span></span><span class="token punctuation">(</span><br />  fetchShape<span class="token operator">:</span> FetchShape<span class="token operator">&lt;</span><span class="token constant">S</span><span class="token punctuation">,</span> Params<span class="token punctuation">,</span> Body<span class="token operator">></span><span class="token punctuation">,</span><br />  throttle<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br /><span class="token punctuation">)</span><span class="token operator">:</span> Shape <span class="token keyword">extends</span> <span class="token class-name">DeleteShape<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">></span></span><br />  <span class="token operator">?</span> <span class="token punctuation">(</span>params<span class="token operator">:</span> ParamsFromShape<span class="token operator">&lt;</span>Shape<span class="token operator">></span><span class="token punctuation">,</span> body<span class="token operator">:</span> BodyFromShape<span class="token operator">&lt;</span>Shape<span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><br />  <span class="token operator">:</span> <span class="token operator">&lt;</span><br />      UpdateParams <span class="token keyword">extends</span> <span class="token class-name">OptimisticUpdateParams<span class="token operator">&lt;</span><br />        SchemaFromShape<span class="token operator">&lt;</span>Shape<span class="token operator">></span><span class="token punctuation">,</span><br />        FetchShape<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">></span><br />      <span class="token operator">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><br />    <span class="token operator">></span><span class="token punctuation">(</span><br />      params<span class="token operator">:</span> ParamsFromShape<span class="token operator">&lt;</span>Shape<span class="token operator">></span><span class="token punctuation">,</span><br />      body<span class="token operator">:</span> BodyFromShape<span class="token operator">&lt;</span>Shape<span class="token operator">></span><span class="token punctuation">,</span><br />      updateParams<span class="token operator">?</span><span class="token operator">:</span> UpdateParams <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><br />    <span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">></span><span class="token punctuation">;</span><br /><br /><span class="token keyword">type</span> <span class="token class-name">OptimisticUpdateParams<span class="token operator">&lt;</span><br />  SourceSchema <span class="token keyword">extends</span> Schema<span class="token punctuation">,</span><br />  DestShape <span class="token keyword">extends</span> FetchShape<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">></span><br /><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">[</span><br />  DestShape<span class="token punctuation">,</span><br />  ParamsFromShape<span class="token operator">&lt;</span>DestShape<span class="token operator">></span><span class="token punctuation">,</span><br />  UpdateFunction<span class="token operator">&lt;</span>SourceSchema<span class="token punctuation">,</span> SchemaFromShape<span class="token operator">&lt;</span>DestShape<span class="token operator">>></span><span class="token punctuation">,</span><br /><span class="token punctuation">]</span><span class="token punctuation">;</span><br /><br /><span class="token keyword">type</span> <span class="token class-name">UpdateFunction<span class="token operator">&lt;</span>SourceSchema <span class="token keyword">extends</span> Schema<span class="token punctuation">,</span> DestSchema <span class="token keyword">extends</span> Schema<span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><br />  sourceResults<span class="token operator">:</span> Normalize<span class="token operator">&lt;</span>SourceSchema<span class="token operator">></span><span class="token punctuation">,</span><br />  destResults<span class="token operator">:</span> Normalize<span class="token operator">&lt;</span>DestSchema<span class="token operator">></span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><br /><span class="token punctuation">)</span> <span class="token operator">=></span> Normalize<span class="token operator">&lt;</span>DestSchema<span class="token operator">></span><span class="token punctuation">;</span><br /></code></pre>
</span></div></div></div></div>
<p>Mostly useful for imperatively triggering mutation effects.</p>
<p>However, this hook is actually used by the retrieval hooks (useRetrieve(), useCache(), useResource()). Using
it with a <code>ReadShape</code> like <code>detailShape()</code> can be done to force a refresh imperatively.</p>
<h2><a class="anchor" aria-hidden="true" id="throttle-boolean--false"></a><a href="#throttle-boolean--false" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>throttle?: boolean = false</h2>
<p>By default all calls force the fetch, however by calling with throttle=true identical
in-flight requests will be deduped.</p>
<h2><a class="anchor" aria-hidden="true" id="example"></a><a href="#example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h2>
<pre><code class="hljs css language-tsx"><span class="token keyword">function</span> <span class="token function">CreatePost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> create <span class="token operator">=</span> <span class="token function">useFetcher</span><span class="token punctuation">(</span>PostResource<span class="token punctuation">.</span><span class="token function">createShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// create as (body: Readonly&lt;Partial&lt;PostResource>>, params?: Readonly&lt;object>) => Promise&lt;any></span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre><code class="hljs css language-tsx"><span class="token keyword">function</span> <span class="token function">UpdatePost</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> id <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> string <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> update <span class="token operator">=</span> <span class="token function">useFetcher</span><span class="token punctuation">(</span>PostResource<span class="token punctuation">.</span><span class="token function">updateShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// update as (body: Readonly&lt;Partial&lt;PostResource>>, params?: Readonly&lt;object>) => Promise&lt;any></span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre><code class="hljs css language-tsx"><span class="token keyword">function</span> <span class="token function">PostListItem</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> post <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> post<span class="token operator">:</span> PostResource <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> del <span class="token operator">=</span> <span class="token function">useFetcher</span><span class="token punctuation">(</span>PostResource<span class="token punctuation">.</span><span class="token function">deleteShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// del as (body: any, params: Readonly&lt;object>) => Promise&lt;any></span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> post<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">X</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="updateparams-destshape-destparams-updatefunction"></a><a href="#updateparams-destshape-destparams-updatefunction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>updateParams: [destShape, destParams, updateFunction][]</h2>
<p>The optional third argument to the fetch function returned by <code>useFetcher()</code> is a
list of tuples that tell Rest Hooks additional updates that should take place.</p>
<p>The result cache will be updated based on the destShape with destParams applied.
(e.g., <code>destShape.getFetchKey(destParams)</code> would find the location in the cache.)</p>
<p>The third argument is a function to run on that result cache.</p>
<h3><a class="anchor" aria-hidden="true" id="updatefunction-sourceresults-destresults--destresults"></a><a href="#updatefunction-sourceresults-destresults--destresults" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>updateFunction: (sourceResults, destResults) =&gt; destResults</h3>
<p>This function takes two arguments
and returns the new result state to be placed in the destination. (Result state resembles
the shape of the actual response, except all entities are replaced with their primary keys.)
The first argument to the update function is the result of the resolved value of the given fetch call.
The second argument is the existing result state of the destination.</p>
<h3><a class="anchor" aria-hidden="true" id="example-1"></a><a href="#example-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h3>
<p>This will insert the newly created article id onto the end of the listshape with <code>{}</code> params.</p>
<pre><code class="hljs css language-typescript"><span class="token keyword">const</span> createArticle <span class="token operator">=</span> <span class="token function">useFetcher</span><span class="token punctuation">(</span>ArticleResource<span class="token punctuation">.</span><span class="token function">createShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">createArticle</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span>
    ArticleResource<span class="token punctuation">.</span><span class="token function">listShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>newArticleID<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> articleIDs<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">[</span>
      <span class="token operator">...</span><span class="token punctuation">(</span>articleIDs <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      newArticleID<span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>This shows the same concept, but for a custom listShape.</p>
<pre><code class="hljs css language-typescript"><span class="token keyword">class</span> <span class="token class-name">ArticlePaginatedResource</span> <span class="token keyword">extends</span> <span class="token class-name">Resource</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token generic-function"><span class="token function">listShape</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> Resource<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">listShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      shape<span class="token operator">:</span> <span class="token punctuation">{</span> results<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">asSchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nextPage<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<pre><code class="hljs css language-typescript"><span class="token keyword">const</span> createArticle <span class="token operator">=</span> <span class="token function">useFetcher</span><span class="token punctuation">(</span>ArticleResource<span class="token punctuation">.</span><span class="token function">createShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">createArticle</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span>
    ArticlePaginatedResource<span class="token punctuation">.</span><span class="token function">listShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>newArticleID<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> articleIDs<span class="token operator">:</span> <span class="token punctuation">{</span> results<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>articleIDs<span class="token punctuation">,</span>
      results<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">(</span>articleIDs<span class="token operator">?.</span>results<span class="token punctuation">)</span><span class="token punctuation">,</span> newArticleID<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="useful-fetchshapes-to-send"></a><a href="#useful-fetchshapes-to-send" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Useful <code>FetchShape</code>s to send</h2>
<p><a href="/docs/4.2/api/resource#provided-and-overridable-methods">Resource</a> provides these built-in:</p>
<ul>
<li>createShape()</li>
<li>updateShape()</li>
<li>partialUpdateShape()</li>
<li>deleteShape()</li>
</ul>
<p>Feel free to add your own <a href="./FetchShape.md">FetchShape</a> as well.</p>
<blockquote>
<h3><a class="anchor" aria-hidden="true" id="notes"></a><a href="#notes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Notes</h3>
<p>As this is the most basic hook to dispatch network requests with <code>rest-hooks</code> it will run through all normal fetch processing like updating
the normalized cache, etc.</p>
</blockquote>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/4.2/api/useresource"><span class="arrow-prev">← </span><span class="function-name-prevnext">useResource()</span></a><a class="docs-next button" href="/docs/4.2/api/useCache"><span class="function-name-prevnext">useCache()</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#throttle-boolean--false">throttle?: boolean = false</a></li><li><a href="#example">Example</a></li><li><a href="#updateparams-destshape-destparams-updatefunction">updateParams: [destShape, destParams, updateFunction][]</a><ul class="toc-headings"><li><a href="#updatefunction-sourceresults-destresults--destresults">updateFunction: (sourceResults, destResults) =&gt; destResults</a></li><li><a href="#example-1">Example</a></li></ul></li><li><a href="#useful-fetchshapes-to-send">Useful <code>FetchShape</code>s to send</a><ul class="toc-headings"><li><a href="#notes">Notes</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/rest_hooks_logo.svg" alt="Rest Hooks" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/getting-started/installation">Getting Started</a><a href="/docs/guides/resource-types">Resource Definitions</a><a href="/docs/api/README">API Reference</a></div><div><h5>Community</h5><a href="/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/rest-hooks" target="_blank" rel="noreferrer noopener">Stack Overflow</a></div><div><h5>More</h5><a href="https://github.com/coinbase/rest-hooks">GitHub</a><a class="github-button" href="https://github.com/coinbase/rest-hooks" data-icon="octicon-star" data-count-href="/coinbase/rest-hooks/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><a href="https://discord.gg/35nb8Mz"><img src="https://img.shields.io/discord/768254430381735967.svg?style=flat-square&amp;colorB=758ED3" alt="Chat"/></a></div></section><section class="copyright">Copyright © 2021 Coinbase<br/>Some icons copyright Font Awesome and Noun Project (Hassan ali, ProSymbols)</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '52e661c10738fd114bcf68d537358c16',
                indexName: 'coinbase-rest-hooks',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["version:4.2"]}
              });
            </script></body></html>